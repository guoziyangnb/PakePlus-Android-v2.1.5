import{_ as L,u as R,r as _,n as h,h as i,p as B,c as d,i as b,a as e,t as u,F as p,g as y,o as r,q as x,m as T}from"./index-D7m2HG1J.js";import{_ as F}from"./Header-C-_K82-i.js";import{T as $}from"./TransactionItem-iNjte7fy.js";const Y={class:"page fade-in-up"},z={class:"container"},I={class:"month-selector"},N={class:"current-month"},V={class:"calendar-grid"},q={class:"weekdays"},E={class:"days"},O=["onClick"],W={class:"selected-date-section"},j={class:"section-header"},A={class:"section-title"},G={class:"glass-card"},H={key:0},J={key:1,class:"empty-state"},K={__name:"Calendar",setup(P){const m=R(),c=_(new Date().getFullYear()),o=_(new Date().getMonth()),l=_(h(new Date)),f=["日","一","二","三","四","五","六"],k=i(()=>`${c.value}年 ${o.value+1}月`),D=i(()=>{const s=new Date(l.value),a=new Date;return s.getDate()===a.getDate()&&s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()?"今天的记录":`${l.value} 的记录`}),w=i(()=>{const s=B(c.value,o.value),a=m.getMonthlyRecords(c.value,o.value),t=new Set(a.map(n=>h(n.date)));return s.map(n=>{if(n.type==="day"){const v=h(n.date);return{...n,hasRecord:t.has(v),dateStr:v}}return n})}),g=i(()=>m.getRecordsByDate(l.value));function M(){o.value===0?(o.value=11,c.value--):o.value--}function C(){o.value===11?(o.value=0,c.value++):o.value++}function S(s){s.type==="day"&&s.dateStr&&(l.value=s.dateStr)}return(s,a)=>(r(),d("div",Y,[b(F,{title:"记账日历"}),e("div",z,[e("div",I,[e("button",{class:"month-nav-btn",onClick:M},[...a[0]||(a[0]=[e("svg",{viewBox:"0 0 24 24"},[e("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})],-1)])]),e("div",N,u(k.value),1),e("button",{class:"month-nav-btn",onClick:C},[...a[1]||(a[1]=[e("svg",{viewBox:"0 0 24 24"},[e("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})],-1)])])]),e("div",V,[e("div",q,[(r(),d(p,null,y(f,t=>e("div",{key:t,class:"weekday"},u(t),1)),64))]),e("div",E,[(r(!0),d(p,null,y(w.value,(t,n)=>(r(),d("div",{key:n,class:x(["day-cell",{empty:t.type==="empty",today:t.isToday,"has-record":t.hasRecord,selected:l.value===t.dateStr}]),onClick:v=>S(t)},u(t.day),11,O))),128))])]),e("div",W,[e("div",j,[e("div",A,u(D.value),1)]),e("div",G,[g.value.length>0?(r(),d("div",H,[(r(!0),d(p,null,y(g.value,t=>(r(),T($,{key:t.id,record:t},null,8,["record"]))),128))])):(r(),d("div",J,[...a[2]||(a[2]=[e("p",null,"这一天没有记录",-1)])]))])])])]))}},Z=L(K,[["__scopeId","data-v-602c934c"]]);export{Z as default};
